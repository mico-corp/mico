<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MICO: Equivalence MICO-ROS</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MICO
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Modular Interchangeable Computer prOgramming</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/dd6/equivalence_mico_ros.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Equivalence MICO-ROS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_C__Users_Bardo91_Desktop_mico_doc_common_equivalence_mico_ros"></a></p>
<p>As middlewares and robotics frameworks, MICO and ROS share some apparent similarities in the concepts (focusing mainly in the communication side of the frameworks). In ROS the streams of data are typically shared using <em>Publishers</em> and <em>Subscribers</em>. In MICO, there exists <em>Pipes</em> and <em>Policies</em>. Here we can see some pieces of code side by side for each of the libraries.</p>
<hr  />
 <table border="1">
<tr>
<td><b style="font-size:30px">MICO</b> </td><td><b style="font-size:30px">ROS</b>  </td></tr>
<tr valign="top">
<td><code> ThreadPool::init(4);<br  />
<br  />
<br  />
<br  />
<br  />
 auto pol1 = new Policy( { makeInput&lt;int&gt;("pol1") } );<br  />
 pol1-&gt;registerCallback({"pol1"}, [&amp;](DataFlow _data){ ... });<br  />
<br  />
 auto pipe1 = new Outpipe("pol1", typeid(int).name());<br  />
 pipe1-&gt;registerPolicy(pol1, "pol1");<br  />
<br  />
 for(int i = 0 ; i &lt; nIters ; i++) pipe1-&gt;flush(i); <br  />
 </code>  </td><td><code> ros::init( _argc, _argv, "benchmark_ros");<br  />
 ros::AsyncSpinner spin(4);<br  />
 spin.start();<br  />
 ros::NodeHandle nh;<br  />
<br  />
 auto sub1 = nh.subscribe&lt;std_msgs::Int32&gt;("topic", 0, [&amp;](const std_msgs::Int32 &amp;_data){ ... };);<br  />
<br  />
<br  />
 auto pub1 = nh.advertise&lt;std_msgs::Int32&gt;("topic", 0);<br  />
<br  />
<br  />
 for(int i = 0 ; i &lt; nIters ; i++) pub1.publish(std_msgs::Int32(i)); </code>   </td></tr>
</table>
<hr  />
<p>The syntax differs but the concept of broadcasters of data and listeners of data is similar in both cases. Nevertheless, the underneath implementation is completely different in both libraries. ROS uses a low-level layer of sockets that communicates with a "master" process independent of the process running the <em>publishers</em> and <em>subscribers</em>. This complicated but robust and widely tested architecture provides for an easy way of creating different application that communicates between each other. Contrary, MICO has been designed to be everything inside of the same process. The selection of this architecture has some advantages, but also disadvantages.</p>
<p>The main advantage of this architecture concerns the speed and data copying. Because everything happens within the same processes, the memory is shared across the whole system. Thus, there is no need to use any kind of data parsing algorithm, protobuffers or streaming bytes arrays. Instead, the same objects that are created in one part of the application is shared "as it is", saving time and reducing copying of data.</p>
<p>However, the main drawback is that when the system runs, it does in a monolithic manner. It means, that everything happens within the same process and unhandled exceptions and crashes affect to the whole system.</p>
<p>In terms of coding and modularity, MICO offers a simple interface helps users to create new modular and reusable code. In ROS, applications are usually called nodes, each node is designed to perform an specific task. In MICO, there are blocks. Blocks are independent modules that are designed to perform an specific task. Blocks are mainly composed by N input Policies and M output tags. Then the block reacts differently according to the inputs.</p>
<p>To learn how to create a new block go to the tutorial "Create a new MICO block". </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d2a/content_list_mico_wiki.html">Content list MICO Wiki</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
